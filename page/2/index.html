<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-big-counter.min.css?v=1.0.2">















  
  
  <link rel="stylesheet" href="/lib/fancybox/source/jquery.fancybox.css">







<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"hide","offset":12,"onmobile":false,"dimmer":true},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Notes of study, work and life">
<meta property="og:type" content="website">
<meta property="og:title" content="Anda">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Anda">
<meta property="og:description" content="Notes of study, work and life">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anda">
<meta name="twitter:description" content="Notes of study, work and life">





  
  
  <link rel="canonical" href="http://yoursite.com/page/2/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Anda</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Anda</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Notes of study, work and life</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>Tags<span class="badge">16</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>Categories<span class="badge">2</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archives<span class="badge">20</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br/>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/Luorinz" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/12/[Notes] TicketMaster API 2/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/12/[Notes] TicketMaster API 2/" class="post-title-link" itemprop="url">[Notes] TicketMaster API 2</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-12 22:55:51 / Modified: 15:56:29" itemprop="dateCreated datePublished" datetime="2019-04-12T22:55:51-07:00">2019-04-12</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">7.8k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">7 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="TicketMaster-API-2"><a href="#TicketMaster-API-2" class="headerlink" title="TicketMaster API 2"></a>TicketMaster API 2</h1><h2 id="Benifits-of-builder-class"><a href="#Benifits-of-builder-class" class="headerlink" title="Benifits of builder class"></a>Benifits of builder class</h2><hr>
<ul>
<li>Easier to use  because you don’t need to call a constructor with long parameter list</li>
<li>Easier to implement because  you don’t need to provide constructors with different combinations of private fields.</li>
</ul>
<h2 id="TicketMasterAPI-java"><a href="#TicketMasterAPI-java" class="headerlink" title="TicketMasterAPI.java"></a>TicketMasterAPI.java</h2><hr>
<h3 id="Add-getAddress"><a href="#Add-getAddress" class="headerlink" title="Add getAddress"></a>Add getAddress</h3>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* get the Address from the JSONObject</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> event</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> A String of address</span></span><br><span class="line"><span class="comment">* <span class="doctag">@throws</span> JSONException</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getAddress</span><span class="params">(JSONObject event)</span> <span class="keyword">throws</span> JSONException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!event.isNull(<span class="string">"_embedded"</span>)) &#123;</span><br><span class="line">    JSONObject embedded = event.getJSONObject(<span class="string">"_embedded"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!embedded.isNull(<span class="string">"venues"</span>)) &#123;</span><br><span class="line">      JSONArray venues = embedded.getJSONArray(<span class="string">"venues"</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; venues.length(); ++i) &#123;</span><br><span class="line">        JSONObject venue = venues.getJSONObject(i);</span><br><span class="line">        </span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!venue.isNull(<span class="string">"address"</span>)) &#123;</span><br><span class="line">          JSONObject address = venue.getJSONObject(<span class="string">"address"</span>);</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> (!address.isNull(<span class="string">"line1"</span>)) &#123;</span><br><span class="line">            sb.append(address.getString(<span class="string">"line1"</span>));</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (!address.isNull(<span class="string">"line2"</span>)) &#123;</span><br><span class="line">            sb.append(<span class="string">" "</span>);</span><br><span class="line">            sb.append(address.getString(<span class="string">"line2"</span>));</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (!address.isNull(<span class="string">"line3"</span>)) &#123;</span><br><span class="line">            sb.append(<span class="string">" "</span>);</span><br><span class="line">            sb.append(address.getString(<span class="string">"line3"</span>));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!venue.isNull(<span class="string">"city"</span>)) &#123;</span><br><span class="line">          JSONObject city = venue.getJSONObject(<span class="string">"city"</span>);</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> (!city.isNull(<span class="string">"name"</span>)) &#123;</span><br><span class="line">            sb.append(<span class="string">" "</span>);</span><br><span class="line">            sb.append(city.getString(<span class="string">"name"</span>));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!sb.toString().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">          <span class="keyword">return</span> sb.toString();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Add-getImageURL"><a href="#Add-getImageURL" class="headerlink" title="Add getImageURL"></a>Add getImageURL</h3>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#123;"images": [&#123;"url": "www.example.com/my_image.jpg"&#125;, ...]&#125;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Get the image URL from a JSONOBject</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> event</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> A String of image URL</span></span><br><span class="line"><span class="comment">* <span class="doctag">@throws</span> JSONException</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getImageUrl</span><span class="params">(JSONObject event)</span> <span class="keyword">throws</span> JSONException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!event.isNull(<span class="string">"images"</span>)) &#123;</span><br><span class="line">    JSONArray images = event.getJSONArray(<span class="string">"images"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; images.length(); ++i) &#123;</span><br><span class="line">      JSONObject image = images.getJSONObject(i);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (!image.isNull(<span class="string">"url"</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> image.getString(<span class="string">"url"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Add-getCategories"><a href="#Add-getCategories" class="headerlink" title="Add getCategories"></a>Add getCategories</h3>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#123;"classifications" : [&#123;"segment": &#123;"name": "music"&#125;&#125;, ...]&#125;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get a set of categories from a JSONObject </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> event</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> A set of string</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> JSONException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Set&lt;String&gt; <span class="title">getCategories</span><span class="params">(JSONObject event)</span> <span class="keyword">throws</span> JSONException </span>&#123;</span><br><span class="line">	Set&lt;String&gt; categories = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">	<span class="keyword">if</span> (!event.isNull(<span class="string">"classifications"</span>)) &#123;</span><br><span class="line">		JSONArray classifications = event.getJSONArray(<span class="string">"classifications"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; classifications.length(); i++) &#123;</span><br><span class="line">			JSONObject classification = classifications.getJSONObject(i);</span><br><span class="line">			<span class="keyword">if</span> (!classification.isNull(<span class="string">"segment"</span>)) &#123;</span><br><span class="line">				JSONObject segment = classification.getJSONObject(<span class="string">"segment"</span>);</span><br><span class="line">				<span class="keyword">if</span> (!segment.isNull(<span class="string">"name"</span>)) &#123;</span><br><span class="line">					String name = segment.getString(<span class="string">"name"</span>);</span><br><span class="line">					categories.add(name);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> categories;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Add-getItemList"><a href="#Add-getItemList" class="headerlink" title="Add getItemList"></a>Add getItemList</h3>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Convert JSONArray to a list of item objects.</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert JSONArray to a list of item objects</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> events</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> A list of Item objects</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> JSONException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Item&gt; <span class="title">getItemList</span><span class="params">(JSONArray events)</span> <span class="keyword">throws</span> JSONException </span>&#123;</span><br><span class="line">	List&lt;Item&gt; itemList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; events.length(); ++i) &#123;</span><br><span class="line">		JSONObject event = events.getJSONObject(i);</span><br><span class="line">		</span><br><span class="line">		ItemBuilder builder = <span class="keyword">new</span> ItemBuilder();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!event.isNull(<span class="string">"name"</span>)) &#123;</span><br><span class="line">			builder.setName(event.getString(<span class="string">"name"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!event.isNull(<span class="string">"id"</span>)) &#123;</span><br><span class="line">			builder.setItemId(event.getString(<span class="string">"id"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!event.isNull(<span class="string">"url"</span>)) &#123;</span><br><span class="line">			builder.setUrl(event.getString(<span class="string">"url"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!event.isNull(<span class="string">"rating"</span>)) &#123;</span><br><span class="line">			builder.setRating(event.getDouble(<span class="string">"rating"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!event.isNull(<span class="string">"distance"</span>)) &#123;</span><br><span class="line">			builder.setDistance(event.getDouble(<span class="string">"distance"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		builder.setCategories(getCategories(event));</span><br><span class="line">		builder.setAddress(getAddress(event));</span><br><span class="line">		builder.setImageUrl(getImageUrl(event));</span><br><span class="line">		</span><br><span class="line">		itemList.add(builder.build());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> itemList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Modify-Search"><a href="#Modify-Search" class="headerlink" title="Modify Search()"></a>Modify Search()</h3>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Search the JSONArray results through TM API</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> lat latitude</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> lon longitude</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> keyword keyword is optional</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> JSONArray</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Item&gt; <span class="title">search</span><span class="params">(<span class="keyword">double</span> lat, <span class="keyword">double</span> lon, String keyword)</span> </span>&#123;</span><br><span class="line">	List&lt;Item&gt; ret = <span class="keyword">new</span> ArrayList&lt;Item&gt;();</span><br><span class="line">	<span class="keyword">if</span> (keyword == <span class="keyword">null</span>) keyword = DEFAULT_KEYWORD;</span><br><span class="line">	<span class="comment">// translate keyword into URL-supported format</span></span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		keyword = java.net.URLEncoder.encode(keyword, <span class="string">"UTF-8"</span>);</span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// Get geoPoint</span></span><br><span class="line">	String geoHash = GeoHash.encodeGeohash(lat, lon, <span class="number">8</span>);</span><br><span class="line">	<span class="comment">// Create query</span></span><br><span class="line">	<span class="comment">// 50 is default search radius</span></span><br><span class="line">	String query = String.format(<span class="string">"apikey=%s&amp;geoPoint=%s&amp;keyword=%s&amp;radius=%s"</span>, API_KEY, geoHash, keyword, <span class="number">50</span>);</span><br><span class="line">	<span class="comment">// Create URL</span></span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="comment">// create a HTTP URL connection</span></span><br><span class="line">		HttpURLConnection connection = (HttpURLConnection) <span class="keyword">new</span> URL(URL + <span class="string">"?"</span> + query).openConnection();</span><br><span class="line">		<span class="comment">// get the response code EG. 200/success, 404/fail</span></span><br><span class="line">		<span class="keyword">int</span> responseCode = connection.getResponseCode();</span><br><span class="line">		<span class="comment">// print res</span></span><br><span class="line">		System.out.println(<span class="string">"\nSending \"GET\" request to URL : "</span> + URL + <span class="string">"?"</span> + query);</span><br><span class="line">		System.out.println(<span class="string">"\nResponse Code: "</span> + responseCode);</span><br><span class="line">		<span class="comment">// check responseCode (Implement it later)</span></span><br><span class="line">		<span class="keyword">if</span> (responseCode != <span class="number">200</span>) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// read and write the response content</span></span><br><span class="line">		BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(connection.getInputStream()));</span><br><span class="line">		String inputLine;</span><br><span class="line">		StringBuilder response = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">while</span> ((inputLine = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">			response.append(inputLine);</span><br><span class="line">		&#125;</span><br><span class="line">		in.close();</span><br><span class="line">		connection.disconnect();</span><br><span class="line">		<span class="comment">// write the response to a JSON object</span></span><br><span class="line">		JSONObject obj = <span class="keyword">new</span> JSONObject(response.toString());</span><br><span class="line">		<span class="comment">// check the result</span></span><br><span class="line">		<span class="keyword">if</span> (obj.isNull(<span class="string">"_embedded"</span>)) &#123;</span><br><span class="line">			<span class="keyword">return</span> ret;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// get the events from the whole JSON and return the events field of it as a JSON Array.</span></span><br><span class="line">		JSONObject embedded = obj.getJSONObject(<span class="string">"_embedded"</span>);</span><br><span class="line">		JSONArray events = embedded.getJSONArray(<span class="string">"events"</span>);</span><br><span class="line">		ret = getItemList(events);</span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Modify-doGet-in-searchItem-Servlet"><a href="#Modify-doGet-in-searchItem-Servlet" class="headerlink" title="Modify doGet() in searchItem Servlet"></a>Modify doGet() in searchItem Servlet</h2><hr>
<pre><code class="java"><span class="comment">/**</span>
<span class="comment"> * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span>
<span class="comment"> */</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{
    <span class="comment">// TODO Auto-generated method stub</span>

    <span class="keyword">double</span> lat = Double.parseDouble(request.getParameter(<span class="string">"lat"</span>));
    <span class="keyword">double</span> lon = Double.parseDouble(request.getParameter(<span class="string">"lon"</span>));

    String keyword = request.getParameter(<span class="string">"term"</span>);
    TicketMasterAPI tmAPI = <span class="keyword">new</span> TicketMasterAPI();
    List&lt;Item&gt; items = tmAPI.search(lat, lon, keyword);

    JSONArray array = <span class="keyword">new</span> JSONArray();
    <span class="keyword">try</span> {
        <span class="keyword">for</span> (Item item : items) {
            JSONObject obj = item.toJSONObject();
            array.put(obj);
        }
    } <span class="keyword">catch</span> (Exception e) {
        e.printStackTrace();
    }
    RpcHelper.writeJSONArray(response, array);
}
</code></pre>
<h2 id="Test-result"><a href="#Test-result" class="headerlink" title="Test result"></a>Test result</h2><ul>
<li>test on <a href="http://localhost:8080/Jupiter/search?lat=37.38&amp;lon=-122.08" target="_blank" rel="noopener">http://localhost:8080/Jupiter/search?lat=37.38&amp;lon=-122.08</a> </li>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/6.%20TicketMasterAPI%202-2019-4-12-15-47-9.png" alt="6. TicketMasterAPI 2-2019-4-12-15-47-9.png"></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/[Notes] CSS Basic/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/11/[Notes] CSS Basic/" class="post-title-link" itemprop="url">[Notes] CSS Basic</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-11 03:56:16 / Modified: 11:59:49" itemprop="dateCreated datePublished" datetime="2019-04-11T03:56:16-07:00">2019-04-11</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">8.2k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">7 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS-Basic"><a href="#CSS-Basic" class="headerlink" title="CSS Basic"></a>CSS Basic</h1><h2 id="CSS-introduction"><a href="#CSS-introduction" class="headerlink" title="CSS introduction"></a>CSS introduction</h2><hr>
<ul>
<li>CSS stands for Cascading Style Sheets</li>
<li>describes how HTML elements (titles, images, paragraph…) are to be displayed on screen, paper, or in other media</li>
<li>CSS version 2.1/3.0</li>
<li>IE9 and above browsers support CSS 3.0</li>
</ul>
<h2 id="CSS-in-HTML"><a href="#CSS-in-HTML" class="headerlink" title="CSS in HTML"></a>CSS in HTML</h2><hr>
<h3 id="Usage-of-CSS-in-HTMl"><a href="#Usage-of-CSS-in-HTMl" class="headerlink" title="Usage of CSS in HTMl"></a>Usage of CSS in HTMl</h3><ul>
<li>Inline Style 内联样式 (highest priority)  <code>&lt;h1 style=&quot;color:blue;&quot;&gt;This is a heading&lt;/h1&gt;</code> (Not recommended)</li>
<li><p>Internal Style 嵌入样式 (second priority) </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">h1 &#123;</span></span><br><span class="line"><span class="undefined">      color: maroon;</span></span><br><span class="line"><span class="undefined">    &#125; </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>External Style 外部样式 (lowest priority)</p>
<ul>
<li>Each page must include a reference to the external style sheet file inside the <code>&lt;link&gt;</code> element. </li>
<li><p>The <code>&lt;link&gt;</code> element goes inside the <code>&lt;head&gt;</code> section:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"mystyle.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>type attribute: specifies the media type of the linked document </li>
<li>rel：specifies the relationship between the current document and the linked document</li>
<li>href：specifies the location of the linked document</li>
</ul>
</li>
</ul>
</li>
<li>Default Style 缺省样式</li>
<li>example <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- external style --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"mystyle.css"</span>&gt;</span>    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- internal style --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                h1 &#123;</span></span><br><span class="line"><span class="undefined">                color: blue;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- default style --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>test0<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Inline style --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color:brown"</span>&gt;</span>test2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h3><blockquote>
<p>Selector {Property: value; Property: value;}</p>
<ul>
<li>example <code>h1 {color:blue;font-size:12px;}</code></li>
<li>The selector  <ul>
<li>points to the HTML element you want to style.  </li>
</ul>
</li>
<li>The declaration block <ul>
<li>contains one or more declarations separated by semicolons.</li>
<li>each declaration includes a CSS property name and a value, separated by a colon.</li>
<li>always ends with a semicolon</li>
<li>declaration blocks are surrounded by curly braces.</li>
</ul>
</li>
<li>Comment <code>/* */</code></li>
</ul>
</blockquote>
<h3 id="Basic-properties"><a href="#Basic-properties" class="headerlink" title="Basic properties"></a>Basic properties</h3><ul>
<li>width - 宽度， 单位px（像素）</li>
<li>height  - 高度</li>
<li>color - 前景色， 也就是文字的颜色</li>
<li>background-color - 背景色</li>
<li>font-size - 字体的大小</li>
</ul>
<h3 id="CSS-Selectors"><a href="#CSS-Selectors" class="headerlink" title="CSS Selectors"></a>CSS Selectors</h3><ul>
<li><code>*</code>  All Elements <code>* {color:blue} /*all items set to blue*/</code></li>
<li>Element name. <code>p {color:blue} /* all p tag turn to blue */</code></li>
<li><p><code>#id</code></p>
<ul>
<li>The id selector uses the id attribute of an HTML element to select a specific element.</li>
<li>The id of an element should be unique within a page, so the id selector is used to select one unique element!</li>
<li>To select an element with a specific id, write a hash (#) character, followed by the id of the element.<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">”li-ca”</span>&gt;</span>CA<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">#li-ca &#123;</span><br><span class="line">    color: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>class</code></p>
<ul>
<li>The class selector selects elements with a specific class attribute.</li>
<li>To select elements with a specific class, write a period (.) character, followed by the name of the class.<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.nice &#123;</span><br><span class="line">    color: purple;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"nice"</span>&gt;</span>lalala<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"nice"</span>&gt;</span>hohoho<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Combinator"><a href="#Combinator" class="headerlink" title="Combinator"></a>Combinator</h3><ul>
<li>Combinator is a selector combined by multiple selectors.</li>
<li><p>后代选择器 <code>div p</code> : selects all <code>&lt;p&gt;</code> elements inside <code>&lt;div&gt;</code> elements`</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.class h3 &#123;color:red; font-size:25px;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>并集选择器 <code>div, p</code> : selects all <code>&lt;div&gt;</code> elements and all <code>&lt;p&gt;</code> elements</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.class, h3 &#123;color:red; font-size:25px;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>子元素选择器 <code>div &gt; p</code> : selects all <code>&lt;p&gt;</code> elements where the parent is a <code>&lt;div&gt;</code> element</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.class, h3 &#123;color:red; font-size:25px;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Difference of <code>div p</code> and <code>div &gt; p</code>: <code>div p</code> includes all sons and grandsons, while <code>div &gt; p</code> has only direct sons.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- All strong whose parent is p --&gt;</span></span></span><br><span class="line"><span class="undefined">    p &gt; strong &#123;</span></span><br><span class="line"><span class="undefined">        color: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    p &gt; span &gt; strong &#123;</span></span><br><span class="line"><span class="undefined">        color: green;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- All strong below div --&gt;</span></span></span><br><span class="line"><span class="undefined">    div strong &#123;</span></span><br><span class="line"><span class="undefined">        font-size: 50px;</span></span><br><span class="line"><span class="undefined">    &#125;        </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>   </span><br><span class="line"><span class="comment">&lt;!-- ...  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"aa"</span>&gt;</span>this is <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong under span<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is paragraph 3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>I am strong under p<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Attribute selector: Use a <code>[]</code> to select attributes</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- all p with class attribute --&gt;</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span><span class="selector-attr">[class]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span><span class="selector-pseudo">:red</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- the class of p is "right --&gt;</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span><span class="selector-attr">[class="right"]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span><span class="selector-pseudo">:blue</span>;</span></span><br><span class="line"><span class="undefined">    &#125; </span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- class~="demo means class contains "demo"--&gt;</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span><span class="selector-attr">[class~="demo"]</span> &#123;</span></span><br><span class="line"><span class="undefined">        font-size: 60px;</span></span><br><span class="line"><span class="undefined">    &#125;        </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span> i am div1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> i am div2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"left demo"</span>&gt;</span> i am div3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"side"</span>&gt;</span> i am div4<span class="tag">&lt;/<span class="name">p</span>&gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Pseudo Classes 伪类</p>
<ul>
<li>:link - (a:link) selects all unvisited links </li>
<li>:hover - (a:hover) selects links on mouse over</li>
<li>:active - (a:active) selects the active link</li>
<li>:visited - (a:visited) selects all visited links\</li>
<li>:first-child - (p:first-child) selects every <code>&lt;p&gt;</code> element that is the first child of its parent</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: red;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: yellow;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="undefined">      font-size: 50px;</span></span><br><span class="line"><span class="undefined">      color: blue;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: green;</span></span><br><span class="line"><span class="undefined">  &#125;      </span></span><br><span class="line"><span class="css">  <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line"><span class="undefined">      background-color: brown;</span></span><br><span class="line"><span class="undefined">  &#125;    </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Pesudo Elements</p>
<ul>
<li>::first-element (does not work on inline elements, such as span)<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">p</span><span class="selector-pseudo">::first-letter</span> &#123;</span></span><br><span class="line"><span class="undefined">      font-size: 100px;</span></span><br><span class="line"><span class="undefined">      color: pink;</span></span><br><span class="line"><span class="undefined">  &#125;     </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="CSS-Cascade-and-Inheritance"><a href="#CSS-Cascade-and-Inheritance" class="headerlink" title="CSS Cascade and Inheritance"></a>CSS Cascade and Inheritance</h2><hr>
<h3 id="CSS-Cascade"><a href="#CSS-Cascade" class="headerlink" title="CSS Cascade"></a>CSS Cascade</h3><ul>
<li>the cascade is a set of rules for determining which style properties get applied to an element. </li>
<li>It specifies how a web browser should handle multiple styles that apply to the same tag and what to do when CSS properties conflict.</li>
<li>bottom &gt; top</li>
</ul>
<h3 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h3><ul>
<li>some property values applied to an element will be inherited by that element’s children, and some won’t.</li>
<li>font-family and color to be inherited, as that makes it easy for you to set a site-wide base font by applying a font-family to the <code>&lt;html&gt;</code> element; </li>
<li>margin, padding, border, and background-image to NOT be inherited</li>
<li><code>&lt;a&gt;</code> does not support any kind of inheritance unless: <code>a {color: inherit;}</code></li>
<li>eg. <code>&lt;span&gt;</code> inside a <code>&lt;p&gt;</code> will be overrided.</li>
</ul>
<hr>
<h2 id="Specificity"><a href="#Specificity" class="headerlink" title="Specificity"></a>Specificity</h2><hr>
<h3 id="First-Principle"><a href="#First-Principle" class="headerlink" title="First Principle"></a>First Principle</h3><ul>
<li>Inline style &gt; Internal &gt; external &gt; inheritance &gt; default</li>
</ul>
<h3 id="Second-Principle"><a href="#Second-Principle" class="headerlink" title="Second Principle"></a>Second Principle</h3><ul>
<li>id &gt; class/pseudo class &gt; tag &gt; inheritance &gt; default</li>
</ul>
<h3 id="Specificity-Collision"><a href="#Specificity-Collision" class="headerlink" title="Specificity Collision"></a>Specificity Collision</h3><ul>
<li>CSS provides a formula for determining a style’s specificity that’s based on a value assigned to the style’s selector - a tag selector, class selector, ID selector, and so on. Here’s how the system works:<ul>
<li>A tag selector is worth 1 point.</li>
<li>A class selector is worth 10 points.</li>
<li>An ID selector is worth 100 points.</li>
<li>An inline style is worth 1,000 points.</li>
<li>The bigger the number, the greater the specificity. </li>
</ul>
</li>
<li>Example<ul>
<li>A tag style for the <img> tag (specificity = 1)</li>
<li>A class style named .highlight (specificity = 10)</li>
<li>An ID style named #logo (specificity = 100)</li>
<li>Then say your web page has this HTML: <code>&lt;img id=”logo” class=”highlight” src=”logo.gif”/&gt;</code>. If you define the same property - such as the border property - in all three styles, then the value from the ID style (#logo) always wins out.</li>
</ul>
</li>
<li>A pseudo-element (like ::before) is treated like a tag selector and is worth 1 point. A pseudo-class (:link) is treated like a class and is worth 10 points.</li>
<li>Since descendant selectors are composed of several selectors - #content p, or h2 strong, for example, the math gets a bit more complicated. The specificity of a descendant selector is the total value of all of the selectors listed.</li>
<li><blockquote>
<p>A descendant selector = 1 tag + 1 tag/class</p>
</blockquote>
</li>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/5.%20CSS%20Basic-2019-4-11-11-28-42.png" alt="5. CSS Basic-2019-4-11-11-28-42.png"></li>
<li>If there’s still collision, last style wins</li>
<li><code>!important;</code> This is an overruling specificity, it means ‘this is important, ignore subsequent rules, and any usual specificity issues, apply this rule!’ For example:<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.nav</span> <span class="selector-tag">a</span> &#123; <span class="attribute">color</span>: red; &#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">a</span> &#123; <span class="attribute">color</span>: blue <span class="meta">!important</span>; &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/09/[Notes] TicketMaster API/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/[Notes] TicketMaster API/" class="post-title-link" itemprop="url">[Notes] TicketMaster API</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-09 23:19:53" itemprop="dateCreated datePublished" datetime="2019-04-09T23:19:53-07:00">2019-04-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-11 11:56:23" itemprop="dateModified" datetime="2019-04-11T11:56:23-07:00">2019-04-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">6.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">6 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="TicketMaster-API"><a href="#TicketMaster-API" class="headerlink" title="TicketMaster API"></a>TicketMaster API</h1><h2 id="HTML-request-message"><a href="#HTML-request-message" class="headerlink" title="HTML request message"></a>HTML request message</h2><ul>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/4.%20TicketMasterAPI-2019-4-11-11-26-25.png" alt="4. TicketMasterAPI-2019-4-11-11-26-25.png"></li>
<li>Request structure<ul>
<li><code>GET /doc/test.html HTTP 1.1</code><br>First part indicates the type of the request, second part indicates the resource it asks for, third part is the version of protocal</li>
<li>Request Header</li>
<li>Request Body <code>bookId=12345&amp;author=Tan+Ah+Teck</code><ul>
<li>Some browser will process the data here.<ul>
<li>Response structure</li>
</ul>
</li>
</ul>
</li>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/4.%20TicketMasterAPI-2019-4-11-11-26-38.png" alt="4. TicketMasterAPI-2019-4-11-11-26-38.png"></li>
<li>Status line <code>HTTP/1.1 200 OK</code><br>200 indicates that the response status number, and the “OK” is the explanation of the status.</li>
<li>Response Header</li>
<li>Response Body <code>&lt;h1&gt;Home page&lt;/h1&gt;</code></li>
</ul>
</li>
</ul>
<h2 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h2><ul>
<li>CRUD<ul>
<li>Create/Read/Update/Delete</li>
<li>matches HTTP POST/GET/PUT/DELETE</li>
</ul>
</li>
<li>server is stateless<ul>
<li>No need to involve other requests when handling the request.</li>
</ul>
</li>
</ul>
<h2 id="TicketMaster-API-1"><a href="#TicketMaster-API-1" class="headerlink" title="TicketMaster API"></a>TicketMaster API</h2><ul>
<li>Request<ul>
<li>URL of discover API <code>protocol://hostname:port/endpoint?query</code> :<ul>
<li>protocol: <code>https</code></li>
<li>hostname: <code>app.ticketmaster.com</code></li>
<li>endpoint: <code>/discovery/v2/events.json</code></li>
<li>query:<ul>
<li>APIkey: it’s required by TicketMaster API for <code>authn/authz</code></li>
<li>GeoPoint: <code>lat/long</code> since our search is based on client location</li>
<li>Radius: radius of search area</li>
<li>Keyword: search a specific kind of events</li>
</ul>
</li>
</ul>
</li>
<li>example <code>https://app.ticketmaster.com/discovery/v2/events.json?apikey=12345&amp;geoPoint=abcd&amp;keyword=music&amp;radius=50</code></li>
<li>Headers and Body: nothing to set since it’s not required for this API.</li>
</ul>
</li>
<li>Response<ul>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/4.%20TicketMasterAPI-2019-4-11-11-27-25.png" alt="4. TicketMasterAPI-2019-4-11-11-27-25.png"></li>
<li>data we need is located in <code>_embedded(JSON Object) -&gt; events(JSON Array) -&gt; item object(JSON Object)</code></li>
</ul>
</li>
<li><p>Implementation</p>
<ul>
<li>Create a new Package <code>external</code> in src</li>
<li>Create a new class <code>TicketMasterAPI</code></li>
<li><p>Add some constants</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL = <span class="string">"https://app.ticketmaster.com/discovery/v2/events.json"</span>;</span><br><span class="line">​<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEFAULT_KEYWORD = <span class="string">""</span>; <span class="comment">// no restriction</span></span><br><span class="line">​<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String API_KEY = <span class="string">"USE_YOUR_OWN_KEY"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add a search function</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Search the keyword through TM API</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lat latitude</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lon longitude</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> keyword keyword is optional</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> JSONArray <span class="title">search</span><span class="params">(<span class="keyword">double</span> lat, <span class="keyword">double</span> lon, String keyword)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add queryAPI helper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* print the results of search(lat, lon)</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lat latitude</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lon longitude</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">queryAPI</span><span class="params">(<span class="keyword">double</span> lat, <span class="keyword">double</span> lon)</span> </span>&#123;</span><br><span class="line">  JSONArray events = search(lat, lon, <span class="keyword">null</span>);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; events.length(); i++) &#123;</span><br><span class="line">      JSONObject event = events.getJSONObject(i);</span><br><span class="line">      System.out.println(event);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add GeoHash helper to convert lat, lon to geoPoint. Copy the code from <code>http://developer-should-know.com/post/87283491372/geohash-encoding-and-decoding-algorithm</code></p>
</li>
<li><p>Implement search(lat,lon,keyword) function</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Search the JSONArray results through TM API</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lat latitude</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> lon longitude</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> keyword keyword is optional</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> JSONArray</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> JSONArray <span class="title">search</span><span class="params">(<span class="keyword">double</span> lat, <span class="keyword">double</span> lon, String keyword)</span> </span>&#123;</span><br><span class="line">  JSONArray ret = <span class="keyword">new</span> JSONArray();</span><br><span class="line">  <span class="keyword">if</span> (keyword == <span class="keyword">null</span>) keyword = DEFAULT_KEYWORD;</span><br><span class="line">  <span class="comment">// translate keyword into URL-supported format</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    keyword = java.net.URLEncoder.encode(keyword, <span class="string">"UTF-8"</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Get geoPoint</span></span><br><span class="line">  String geoHash = GeoHash.encodeGeohash(lat, lon, <span class="number">8</span>);</span><br><span class="line">  <span class="comment">// Create query</span></span><br><span class="line">  <span class="comment">// 50 is default search radius</span></span><br><span class="line">  String query = String.format(<span class="string">"apikey=%s&amp;geoPoint=%s&amp;keyword=%s&amp;radius=%s"</span>, API_KEY, geoHash, keyword, <span class="number">50</span>);</span><br><span class="line">  <span class="comment">// Create URL</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// create a HTTP URL connection</span></span><br><span class="line">    HttpURLConnection connection = (HttpURLConnection) <span class="keyword">new</span> URL(URL + <span class="string">"?"</span> + query).openConnection();</span><br><span class="line">    <span class="comment">// get the response code EG. 200/success, 404/fail</span></span><br><span class="line">    <span class="keyword">int</span> responseCode = connection.getResponseCode();</span><br><span class="line">    <span class="comment">// print res</span></span><br><span class="line">    System.out.println(<span class="string">"\nSending \"GET\" request to URL : "</span> + URL + <span class="string">"?"</span> + query);</span><br><span class="line">    System.out.println(<span class="string">"\nResponse Code: "</span> + responseCode);</span><br><span class="line">    <span class="comment">// check responseCode (Implement it later)</span></span><br><span class="line">    <span class="keyword">if</span> (responseCode != <span class="number">200</span>) &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// read and write the response content</span></span><br><span class="line">    BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(connection.getInputStream()));</span><br><span class="line">    String inputLine;</span><br><span class="line">    StringBuilder response = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">while</span> ((inputLine = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">      response.append(inputLine);</span><br><span class="line">    &#125;</span><br><span class="line">    in.close();</span><br><span class="line">    connection.disconnect();</span><br><span class="line">    <span class="comment">// write the response to a JSON object</span></span><br><span class="line">    JSONObject obj = <span class="keyword">new</span> JSONObject(response.toString());</span><br><span class="line">    <span class="comment">// check the result</span></span><br><span class="line">    <span class="keyword">if</span> (obj.isNull(<span class="string">"_embedded"</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// get the events from the whole JSON and return the events field of it as a JSON Array.</span></span><br><span class="line">    JSONObject embedded = obj.getJSONObject(<span class="string">"_embedded"</span>);</span><br><span class="line">    JSONArray events = embedded.getJSONArray(<span class="string">"events"</span>);</span><br><span class="line">    ret = events;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Create a new package <code>entity</code> and a new class <code>Item</code>(entity表示servelet储存数据的类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Item of event</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> andaluo</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String itemId;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> rating;</span><br><span class="line">  <span class="keyword">private</span> String address;</span><br><span class="line">  <span class="keyword">private</span> Set&lt;String&gt; categories;</span><br><span class="line">  <span class="keyword">private</span> String imageURL;</span><br><span class="line">  <span class="keyword">private</span> String url;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> distance;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> JSONObject <span class="title">toJSONObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    JSONObject obj = <span class="keyword">new</span> JSONObject();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      obj.put(<span class="string">"item_id"</span>, itemId);</span><br><span class="line">      obj.put(<span class="string">"name"</span>, name);	</span><br><span class="line">      obj.put(<span class="string">"rating"</span>, rating);</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Use builder pattern to create Item class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * A helper class to build the Item class</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@author</span> andaluo</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemBuilder</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String itemId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Construct the Item using builder</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Item(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * return the builder itself to support continuous operation.</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> itemId</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ItemBuilder <span class="title">setItemId</span><span class="params">(String itemId)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.itemId = itemId;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;      </span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Builder pattern to create a class</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> builder</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Item</span><span class="params">(ItemBuilder builder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.itemId = builder.itemId;</span><br><span class="line">    <span class="keyword">this</span>.name = builder.name;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// when build the item we get</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Item item = <span class="keyword">new</span> Item.ItemBuilder().setAddress(<span class="string">"abc"</span>).setDistance(<span class="number">19</span>).build();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/09/How to Reverse A Linked List/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/How to Reverse A Linked List/" class="post-title-link" itemprop="url">How to Reverse A Linked List</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-09 17:04:54 / Modified: 10:09:05" itemprop="dateCreated datePublished" datetime="2019-04-09T17:04:54-07:00">2019-04-09</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">780</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">1 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Reverse-linked-list"><a href="#Reverse-linked-list" class="headerlink" title="Reverse linked list"></a>Reverse linked list</h1><ol>
<li><p>corner case</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dummy-&gt;1-&gt;null</span><br><span class="line">dummy-&gt;null</span><br></pre></td></tr></table></figure>
</li>
<li><p>general case</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dummy-&gt; 1 -&gt;   2      -&gt; 3 -&gt; null</span><br><span class="line">pre    cur  nextNode</span><br><span class="line"></span><br><span class="line">dummy -&gt;  2   -&gt; 1 -&gt; 3 -&gt; null</span><br><span class="line">pre     nextNode cur  </span><br><span class="line"></span><br><span class="line">dummy -&gt;  2   -&gt; 1 -&gt;   3   -&gt; null</span><br><span class="line">pre             cur  nextNode</span><br><span class="line"></span><br><span class="line">dummy -&gt;  3   -&gt; 2 -&gt;   1   -&gt; null</span><br><span class="line">pre                    cur      nextNode</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<ol>
<li>link cur to the next node <code>cur.next = nextNode.next</code></li>
<li>link nextNode to the head of the reversed part <code>nextNode.next = pre.next</code></li>
<li>link pre to the nextNode <code>pre.next = nextNode</code></li>
<li>update nextNode to next <code>nextNode = cur.next</code></li>
<li>when nextNode gets to the end, exit</li>
</ol>
<hr>
<blockquote>
<p>cur represents the tail, and pre represents the the dummy, nextNode represents the node waiting to be added to the head of the list.</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/09/[Notes] HTML Basic/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/[Notes] HTML Basic/" class="post-title-link" itemprop="url">[Notes] HTML Basic</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-09 02:39:12" itemprop="dateCreated datePublished" datetime="2019-04-09T02:39:12-07:00">2019-04-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-11 11:55:05" itemprop="dateModified" datetime="2019-04-11T11:55:05-07:00">2019-04-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">7k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">6 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HTML-Basic"><a href="#HTML-Basic" class="headerlink" title="HTML Basic"></a>HTML Basic</h1><h2 id="How-Internet-works-High-Level"><a href="#How-Internet-works-High-Level" class="headerlink" title="How Internet works(High Level)"></a>How Internet works(High Level)</h2><ul>
<li>​find the right address <a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a> -&gt; 172.217.8.132<ul>
<li>Your query is submitted to your ISP( Internet service provider)</li>
<li>DNS(Domain Name System) takes the domain name  and turns it into URI</li>
</ul>
</li>
<li>a request is sent to the server and then the server response whatever requested, in this case, it is the combination of html, css and JavaScript</li>
<li>the browser display the website.</li>
</ul>
<h2 id="Basic-Web-Technologies"><a href="#Basic-Web-Technologies" class="headerlink" title="Basic Web Technologies"></a>Basic Web Technologies</h2><ul>
<li>HTML: Structure</li>
<li>CSS: Style</li>
<li>JavaScript: Interaction</li>
</ul>
<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><ul>
<li><p>Hypertext Markup Language</p>
</li>
<li><p>Tags</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. <span class="meta">&lt;!DOCTYPE&gt;</span> (声明)</span><br><span class="line">2. <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">3. <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">4. <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">5. <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">6. <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">7. <span class="tag">&lt;<span class="name">a</span>&gt;</span></span><br><span class="line">8. <span class="tag">&lt;<span class="name">img</span>&gt;</span></span><br><span class="line">9. <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">10. <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">11. <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">12. <span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">13. <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;!DOCTYPE&gt;</code> </p>
<ul>
<li>&lt;!DOCTYPE&gt; declaration is not an HTML tag</li>
</ul>
<ul>
<li>it is an instruction to the web browser about what version of HTML the page is written in and how to render the content</li>
<li>always add the &lt;!DOCTYPE&gt; declaration to your HTML documents.</li>
<li>html5的声明是<code>&lt;!DOCTYPE html&gt;</code></li>
</ul>
</li>
<li><p><code>&lt;head&gt;</code></p>
<ul>
<li>provides general information (metadata) about the document,including its title and links to its scripts and style sheets.</li>
<li>after <code>&lt;html&gt;</code> tag</li>
<li>only 1 pair of <code>&lt;head&gt;</code> tag in a html document</li>
<li><code>&lt;title&gt;</code> can only be placed here.</li>
<li><code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code> set the charSet of this page</li>
</ul>
</li>
<li><p><code>&lt;body&gt;</code><br>​- represents the content of an HTML document.<br>​- after <code>&lt;head&gt;</code> tag but on the same level</p>
<ul>
<li>only 1 pair of <code>&lt;body&gt;</code> element in a document</li>
<li>contains:</li>
<li>标题标签 <code>&lt;h1&gt; - &lt;h6&gt;</code></li>
<li>段落标签 <code>&lt;p&gt;</code></li>
<li>注释标签 <code>&lt;!-- comment -- &gt;</code></li>
<li>水平线标签 <code>&lt;hr&gt;</code>(单标签)</li>
<li>换行标签 <code>&lt;br&gt;</code>（单标签）</li>
<li>文本节标签 <code>&lt;span&gt;</code></li>
</ul>
</li>
<li><p><code>&lt;ul&gt;</code> Unordered list</p>
<ul>
<li>represents an unordered list of items</li>
<li>typically rendered as a bulleted list</li>
<li>uses with <code>&lt;li&gt;</code></li>
</ul>
</li>
<li><p><code>&lt;ol&gt;</code> ordered list</p>
</li>
<li><p><code>&lt;li&gt;</code></p>
<ul>
<li>represent an item in a list.</li>
<li>must be contained in a parent element: an ordered list <code>&lt;ol&gt;</code>, an unordered list <code>&lt;ul&gt;</code>, or a menu <code>&lt;menu&gt;</code>.</li>
</ul>
</li>
<li><p><code>&lt;a&gt;</code> 超级链接</p>
<ul>
<li>creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.</li>
<li><code>&lt;a href=&quot;https://www.google.com&quot;&gt;Google&lt;/a&gt;</code></li>
<li>href attribute: contains a URL or a URL fragment that the hyperlink points to.</li>
<li>#: link to an element with a specified id within the page (like href=”#top”)</li>
<li>target attribute: _blank vs. _self<ul>
<li>example<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.google.com"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- _blank means open in new tag, _self means open in this tag---&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>&lt;img&gt;</code>图片标签（单标签）</p>
<ul>
<li>defines an image in an HTML page.</li>
<li>has two required attributes: src and alt: <code>&lt;img src=”” alt=”” &gt;</code></li>
<li>has no end tag(self-closing tag).</li>
<li>if the image is broken, then the alternative name shows up.</li>
</ul>
</li>
</ul>
<h2 id="Blocks"><a href="#Blocks" class="headerlink" title="Blocks"></a>Blocks</h2><ul>
<li><code>&lt;div&gt;</code><ul>
<li>the generic container for flow content and does not inherently represent anything.</li>
<li>use it to group elements for purposes.</li>
</ul>
</li>
<li>recall<code>&lt;span&gt;</code><ul>
<li>a generic inline container for phrasing content.</li>
<li>does not inherently represent anything.</li>
<li>use it to group elements for purposes.</li>
</ul>
</li>
<li><code>&lt;div&gt;</code> vs. <code>&lt;span&gt;</code></li>
<li>find all block elements and inline elements after the class</li>
<li><code>&lt;p&gt;</code> 另起一行，因此也属于块状标签</li>
</ul>
<h2 id="Semantic-Tags"><a href="#Semantic-Tags" class="headerlink" title="Semantic Tags"></a>Semantic Tags</h2><ul>
<li>A semantic element clearly describes its meaning to both the browser and the developer.<ul>
<li>语义标签</li>
<li>examples of non-semantic elements: <code>&lt;div&gt;</code> and <code>&lt;span&gt;</code> - tells nothing about its content.</li>
<li>examples of semantic elements: <code>&lt;form&gt;</code>, <code>&lt;table&gt;</code>, and <code>&lt;article&gt;</code> - clearly defines its content.</li>
</ul>
</li>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/3.%20HTMLBasic-2019-4-11-11-25-22.png" alt="3. HTMLBasic-2019-4-11-11-25-22.png"></li>
<li>Semantic elements<ul>
<li><code>&lt;header&gt;</code> 页眉:<br>represents a container for introductory content or a set of navigational links.</li>
<li><code>&lt;section&gt;</code> 区块:<br>represents a standalone section of functionality contained within an HTML document, typically with a heading, which doesn’t have a more specific semantic element to represent it.</li>
<li><code>&lt;aside&gt;</code> 侧边栏:<br>represents a section of a document with content connected tangentially to the main content of the document (often presented as a sidebar).</li>
<li><code>&lt;nav&gt;</code> 导航:<br>represents a section of a page whose purpose is to provide navigation links, either within the current document or to other documents. Common examples of navigation sections are menus, tables of contents, and indexes.</li>
<li><code>&lt;footer&gt;</code> 页脚:<br>defines a footer for a document or section which contain information about its containing element.</li>
</ul>
</li>
</ul>
<h2 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h2><ul>
<li><p>structure</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"Item Recommendation"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"Your Name"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>Item Recommendation Final<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#name"</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Item<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"avatar"</span> <span class="attr">class</span>=<span class="string">"avatar fa fa-user fa-2x"</span>&gt;</span>Icon<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                  <span class="tag">&lt;<span class="name">br</span>&gt;</span> Recommendation</span><br><span class="line">              <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">          <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Nearby<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>My Favorites<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Recommendation<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"></span><br><span class="line">              <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s1.ticketm.net/dam/c/48b/2352e3b5-8496-496b-97a3-e605177e848b_105851_ARTIST_PAGE_3_2.jpg"</span> /&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Item<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                          <span class="tag">&lt;<span class="name">p</span>&gt;</span>Music<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">p</span>&gt;</span>99 Grove Street<span class="tag">&lt;<span class="name">br</span>/&gt;</span>San Francisco<span class="tag">&lt;<span class="name">br</span>/&gt;</span> CA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>What We Do<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Help you find the best place around."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Example office, CA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info@example.com<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">p</span>&gt;</span>+1 800 123 456<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Use FontAwesome to get icon. Add the css to <head><meta name="generator" content="Hexo 3.8.0"></head></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css&quot;&gt;</span><br><span class="line"></span><br><span class="line"> &lt;i id=&quot;avatar&quot; class=&quot;avatar fa fa-user fa-2x&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/[Notes] Java Servlet/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/05/[Notes] Java Servlet/" class="post-title-link" itemprop="url">[Notes] Java Servlet</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-05 17:22:20" itemprop="dateCreated datePublished" datetime="2019-04-05T17:22:20-07:00">2019-04-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-11 11:52:20" itemprop="dateModified" datetime="2019-04-11T11:52:20-07:00">2019-04-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">5.1k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">5 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h2 id="REST-Representational-State-Transfer"><a href="#REST-Representational-State-Transfer" class="headerlink" title="REST(Representational State Transfer)"></a>REST(Representational State Transfer)</h2><ul>
<li>REST is web server design pattern</li>
<li>Operations are directly based on HTTP methods, so that server don’t need to parse extra thing</li>
<li>URL clearly indicates which resource a client want, easy for client side users to understand.</li>
<li>Server is running in stateless mode, improve scalability.</li>
</ul>
<h2 id="Create-Jupyter-Project-amp-amp-SearchItem-Servlet"><a href="#Create-Jupyter-Project-amp-amp-SearchItem-Servlet" class="headerlink" title="Create Jupyter Project &amp;&amp; SearchItem Servlet"></a>Create Jupyter Project &amp;&amp; SearchItem Servlet</h2><ul>
<li>Create Dynamic Project called “Jupiter”</li>
<li>Add Tomcat 9.0 to its Java Build Path</li>
<li>Add And Remove project Jupyter to existed Tomcat server</li>
<li>Create java Servlet in Jupyter project, name it SearchItem and name the package rpc</li>
<li>It should contain a doGet() and doPost()</li>
<li><p>change the mapping url</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// better style to set them all lowercase</span></span><br><span class="line"><span class="comment">// 可以直接在创建servlet的页面修改</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/SearchItem"</span>) <span class="comment">// by default</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/search"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Handle the doGet() method by adding tutorial code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// response.getWriter()表示得到response的输出流</span></span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line"><span class="comment">// request.getParameter表示获取request中的body的参数信息</span></span><br><span class="line"><span class="keyword">if</span> (request.getParameter(<span class="string">"username"</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">    String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">    out.print(<span class="string">"Hello "</span> + username);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一定要关闭这个输出流</span></span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
</li>
<li><p>test the input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/Jupiter/search?username=abcd</span><br></pre></td></tr></table></figure>
</li>
<li><p>return a HTML page</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需要告诉浏览器页面的类型，渲染成所需的格式</span></span><br><span class="line">response.setContentType(<span class="string">"text/html"</span>);</span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">out.println(<span class="string">"&lt;html&gt;&lt;body&gt;"</span>);</span><br><span class="line">out.println(<span class="string">"&lt;h1&gt;This is a HTML page&lt;/h1&gt;"</span>);</span><br><span class="line">out.println(<span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line"></span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
</li>
<li><p>add Java-json jar support to the WebContent-WebInf-lib</p>
</li>
<li><p>test json support</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把页面设置成json键值对格式</span></span><br><span class="line">response.setContentType(<span class="string">"application/json"</span>);</span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">String username = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">if</span> (request.getParameter(<span class="string">"username"</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">  username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">&#125;</span><br><span class="line">JSONObject obj = <span class="keyword">new</span> JSONObject();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  obj.put(<span class="string">"username"</span>, username);</span><br><span class="line">&#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">out.print(obj);</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
</li>
<li><p>test jason array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(<span class="string">"application/json"</span>);</span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line"><span class="comment">//json array 存储多个键值对</span></span><br><span class="line">JSONArray array = <span class="keyword">new</span> JSONArray();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  array.put(<span class="keyword">new</span> JSONObject().put(<span class="string">"username"</span>, <span class="string">"abcd"</span>));</span><br><span class="line">  array.put(<span class="keyword">new</span> JSONObject().put(<span class="string">"username"</span>, <span class="string">"1234"</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">out.print(array);</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Create-RecommendItem-Servlet"><a href="#Create-RecommendItem-Servlet" class="headerlink" title="Create RecommendItem Servlet"></a>Create RecommendItem Servlet</h2><ul>
<li>Create another Servlet called RecommendItem under prc package, and change the mapping url</li>
<li>practice on JSONArray<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. set content type</span></span><br><span class="line">response.setContentType(<span class="string">"application/json"</span>);</span><br><span class="line"><span class="comment">// 2. get output stream of response</span></span><br><span class="line">PrintWriter out = response.getWriter();</span><br><span class="line"><span class="comment">// 3. create json array</span></span><br><span class="line">JSONArray arr = <span class="keyword">new</span> JSONArray();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// 4. create JSONObject and put those in the JSONArray</span></span><br><span class="line">  arr.put(<span class="keyword">new</span> JSONObject().put(<span class="string">"name"</span>, <span class="string">"abcd"</span>).put(<span class="string">"address"</span>, <span class="string">"san francisco"</span>).put(<span class="string">"time"</span>,<span class="string">"01/01/2017"</span>));</span><br><span class="line">  arr.put(<span class="keyword">new</span> JSONObject().put(<span class="string">"name"</span>, <span class="string">"1234"</span>).put(<span class="string">"address"</span>, <span class="string">"san jose"</span>).put(<span class="string">"time"</span>,<span class="string">"01/02/2017"</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 5. print the result</span></span><br><span class="line">out.print(arr);</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Add-RpcHelper-utility-class"><a href="#Add-RpcHelper-utility-class" class="headerlink" title="Add RpcHelper utility class"></a>Add RpcHelper utility class</h2><ul>
<li>create regular class RpcHelper under rpc package</li>
<li><p>add writeJSONObject(response, JSONObject)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeJSONObject</span><span class="params">(HttpServletResponse response , JSONObject obj)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 修改content type</span></span><br><span class="line">    response.setContentType(<span class="string">"application/json"</span>);</span><br><span class="line">    <span class="comment">// 2. 加入header response.addHeader</span></span><br><span class="line">    response.addHeader(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>);</span><br><span class="line">    <span class="comment">// 3. 获取输出流 PrintWriter</span></span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// 4. 写入</span></span><br><span class="line">    out.print(obj);</span><br><span class="line">    out.close();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>add writeJSONArray(response, JSONArray)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeJSONArray</span><span class="params">(HttpServletResponse response , JSONArray array)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 修改content type</span></span><br><span class="line">    response.setContentType(<span class="string">"application/json"</span>);</span><br><span class="line">    <span class="comment">// 2. 加入header</span></span><br><span class="line">    response.addHeader(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>);</span><br><span class="line">    <span class="comment">// 3. 获取输出流</span></span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// 4. 写入</span></span><br><span class="line">    out.print(array);</span><br><span class="line">    out.close();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>now apply the helper to the SearchItem and RecommendationItem</p>
</li>
</ul>
<h2 id="TicketMaster-API"><a href="#TicketMaster-API" class="headerlink" title="TicketMaster API"></a>TicketMaster API</h2><ul>
<li><img src="https://raw.githubusercontent.com/Luorinz/images/master/2.%20JavaServlet-2019-4-11-11-24-33.png" alt="2. JavaServlet-2019-4-11-11-24-33.png"></li>
<li>An web based API provided by TicketMaster so that clients and get real events data from TicketMaster server. You cannot see the source code of it, but you can refer to the documentation to figure out how to use the interface to make connection by sending request to it’s backend. </li>
<li>It’s required by TicketMaster API so that it’ll know who is using their API. To get your API key, you need to register on this website: <a href="http://developer.ticketmaster.com" target="_blank" rel="noopener">http://developer.ticketmaster.com</a>, and you’ll see your API key when we navigate to API details.</li>
<li>The bottle neck of this project is TicketMaster API, since we cannot control its performance.</li>
<li>If we have to optimize it, we can create a cache.</li>
<li>Or we can make another API. Make a copy each time we query something from TicketMaster.</li>
<li>If TicketMaster is down. We can query local copy of nearest geo point.模仿一个曲线拟合的过程，即模糊搜索</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/04/[Notes] Web Application Basic/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/04/[Notes] Web Application Basic/" class="post-title-link" itemprop="url">[Notes] Web Application Basic</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-04 00:23:27 / Modified: 20:19:22" itemprop="dateCreated datePublished" datetime="2019-04-04T00:23:27-07:00">2019-04-04</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">2.7k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">2 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Web-Application"><a href="#Web-Application" class="headerlink" title="Web Application"></a>Web Application</h1><h2 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies:"></a>Dependencies:</h2><ol>
<li>Java 8</li>
<li>Eclipse EE</li>
<li>Postman</li>
<li>Tomcat</li>
</ol>
<h2 id="Web-Application-Clients-gt-Internet-gt-Server"><a href="#Web-Application-Clients-gt-Internet-gt-Server" class="headerlink" title="Web Application: Clients -&gt;Internet-&gt; Server"></a>Web Application: Clients -&gt;Internet-&gt; Server</h2><ul>
<li>Server(Backend)</li>
<li>Client(Frontend): User interface</li>
<li>Internet</li>
</ul>
<h2 id="TCP-IP区别："><a href="#TCP-IP区别：" class="headerlink" title="TCP/IP区别："></a>TCP/IP区别：</h2><ul>
<li>IP对应特定机器的地址，TCP对应特定机器特定进程的地址</li>
<li>TCP通过端口来监听请求，请求包括IP和端口号</li>
</ul>
<h2 id="在浏览器输入www-example-com会发生什么？"><a href="#在浏览器输入www-example-com会发生什么？" class="headerlink" title="在浏览器输入www.example.com会发生什么？"></a>在浏览器输入<a href="http://www.example.com会发生什么？" target="_blank" rel="noopener">www.example.com会发生什么？</a></h2><ol>
<li>(client) client opens browser and goes to an Internet address (IP address/URL/hostname) and asks for page for (<a href="http://www.example.com)" target="_blank" rel="noopener">http://www.example.com)</a>, which means “I want to see ‘<a href="http://www.example.com/index.html’”" target="_blank" rel="noopener">http://www.example.com/index.html’”</a></li>
<li>(network) Internet redirects your request “I want to see ‘<a href="http://www.example.com’”" target="_blank" rel="noopener">http://www.example.com’”</a> to example’s server (a set of web servers)</li>
<li>(server) One of example’s server sends a response to your Internet address (ip address). The response contains a HTML page. We will talk about HTML later.</li>
<li>(network) The response goes through the Internet and received by your browser.</li>
<li>(client) Your browser receives the response from example’s server and the HTML page contained in it. Render the page view and present to you. How to view the HTML page source? (Right click, and view page source) </li>
</ol>
<h2 id="如何设计web-app-三层结构"><a href="#如何设计web-app-三层结构" class="headerlink" title="如何设计web app? 三层结构"></a>如何设计web app? 三层结构</h2><ol>
<li>presentation tier 直接与用户交互</li>
<li>logic tier 应用具体的逻辑</li>
<li>data tier 数据库</li>
</ol>
<h2 id="Tomcat-提供web-server"><a href="#Tomcat-提供web-server" class="headerlink" title="Tomcat 提供web server"></a>Tomcat 提供web server</h2><ol>
<li>RPC(remote procedure call) 调用一个远端机器上的API</li>
<li>Java Servlet 服务器端负责处理RPC的java class</li>
<li>Tomcat 存放servlet的环境，负责接受请求并分配到对应的servlet处理,把处理的结果传给正确的客户</li>
</ol>
<h2 id="Tomcat配置"><a href="#Tomcat配置" class="headerlink" title="Tomcat配置"></a>Tomcat配置</h2><ol>
<li>在properties里面点一下switch location找配置文件</li>
<li>server location改成 use tomcat installation</li>
<li>地址localhost:8080</li>
</ol>
<h2 id="Http-request-methods"><a href="#Http-request-methods" class="headerlink" title="Http request methods"></a>Http request methods</h2><ol>
<li>GET(read in general)</li>
<li>POST(write in general)</li>
<li>PUT(write)</li>
<li>DELETE(write)</li>
</ol>
<h2 id="URL-Unique-Resource-Locator"><a href="#URL-Unique-Resource-Locator" class="headerlink" title="URL(Unique Resource Locator)"></a>URL(Unique Resource Locator)</h2><ol>
<li><p>format: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ protocal(http/https)</span><br><span class="line">+ hostname(www.youtube.com)</span><br><span class="line">+ port(8080): which process</span><br><span class="line">+ endpoint: The name and location of the requested resource, under the server base directory. 相当于要触发的服务或功能</span><br><span class="line">+ query: separated from the preceding part by a question mark (?), containing a query string of attribute–value pairs separated by a delimiter. 相当于参数</span><br><span class="line">+ example: ```https://www.youtube.com/results?search_query=example</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>example: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. url会自动将空格转码成```&quot;20%&quot;</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>如果要inplace操作的话，先扫一遍找出空格数，然后再扩容字符串，然后冲后往前填。</p>
</li>
</ul>
</li>
</ol>
<h2 id="http-request-body-包含http-request的数据"><a href="#http-request-body-包含http-request的数据" class="headerlink" title="http request body: 包含http request的数据"></a>http request body: 包含http request的数据</h2><ul>
<li>POST的body信息通常是隐藏的,GET通常没有必要隐藏</li>
<li><p>request例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">JSON(JavaScript Object Notation)</span><br><span class="line">&#123;</span><br><span class="line">“instructor”: </span><br><span class="line">&#123;</span><br><span class="line">    &quot;company&quot;: &quot;Laioffer&quot;,</span><br><span class="line">    &quot;course&quot;: “Project” ,</span><br><span class="line">    &quot;name&quot;: “Vincent”</span><br><span class="line">&#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Alternative formats</span><br><span class="line"></span><br><span class="line">XML: eXtensible Markup Language</span><br><span class="line">&lt;instructor&gt;</span><br><span class="line">&lt;company&gt;Laioffer&lt;/company&gt;</span><br><span class="line">&lt;course&gt;Project&lt;/course&gt;</span><br><span class="line">&lt;name&gt;Vincent&lt;/name&gt;</span><br><span class="line">&lt;/instructor&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ProtocolBuffer</span><br><span class="line">Instructor &#123;</span><br><span class="line">company = “Laioffer”,</span><br><span class="line">course= “Project”</span><br><span class="line">name= “Vincent”</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JSON简洁一些，xml长一些，ProtocalBuffer更新效率更高。前两种都是字符串，后一种是java class，相当于二进制文件，需要额外支持。</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/29/bitwise operation/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/29/bitwise operation/" class="post-title-link" itemprop="url">bitwise operation位运算相关</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-29 02:32:48" itemprop="dateCreated datePublished" datetime="2019-03-29T02:32:48-07:00">2019-03-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-28 19:48:58" itemprop="dateModified" datetime="2019-03-28T19:48:58-07:00">2019-03-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">211</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">1 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-How-to-check-odd-number"><a href="#1-How-to-check-odd-number" class="headerlink" title="1. How to check odd number"></a>1. How to check odd number</h3><p>n &amp; 1 means comparing last digit of binary number to 1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n &amp; <span class="number">1</span> == <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Float-division"><a href="#2-Float-division" class="headerlink" title="2. Float division"></a>2. Float division</h3><p>n &gt;&gt; 1 means n floor divides 2 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> &gt;&gt; <span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/28/HelloWorld/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/28/HelloWorld/" class="post-title-link" itemprop="url">HelloWorld</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-28 12:13:17" itemprop="dateCreated datePublished" datetime="2019-03-28T12:13:17-07:00">2019-03-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-09 10:04:22" itemprop="dateModified" datetime="2019-04-09T10:04:22-07:00">2019-04-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Personal/" itemprop="url" rel="index"><span itemprop="name">Personal</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">16</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">1 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="长风破浪会有时，直挂云帆济沧海！"><a href="#长风破浪会有时，直挂云帆济沧海！" class="headerlink" title="长风破浪会有时，直挂云帆济沧海！"></a>长风破浪会有时，直挂云帆济沧海！</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/28/3. Longest Substring Without Repeating Characters/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anda Luo"/>
      <meta itemprop="description" content="Notes of study, work and life"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anda"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/28/3. Longest Substring Without Repeating Characters/" class="post-title-link" itemprop="url">[Leetcode] 3. Longest Substring Without Repeating Characters</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-28 12:13:17" itemprop="dateCreated datePublished" datetime="2019-03-28T12:13:17-07:00">2019-03-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-09 10:08:15" itemprop="dateModified" datetime="2019-04-09T10:08:15-07:00">2019-04-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">2.3k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">2 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="meidum"><a href="#meidum" class="headerlink" title="meidum"></a>meidum</h3><p>Given a string, find the length of the <strong>longest substring</strong> without repeating characters.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;abcabcbb&quot;</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: The answer is &quot;abc&quot;, with the length of 3.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;bbbbb&quot;</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The answer is &quot;b&quot;, with the length of 1.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;pwwkew&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;wke&quot;, with the length of 3. </span><br><span class="line">             Note that the answer must be a substring, &quot;pwke&quot; is a subsequence and not a substring.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution1</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># DFS solution O(n2)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        memo = set()</span><br><span class="line">        self.max_length = float(<span class="string">'-inf'</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="keyword">if</span> self.max_length &gt;= len(s) - i:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            self.helper(<span class="string">""</span>, i, s, memo)</span><br><span class="line">        <span class="keyword">return</span> self.max_length</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, path, ind, string, memo)</span>:</span></span><br><span class="line">        self.max_length = max(self.max_length, len(path))</span><br><span class="line">        <span class="keyword">if</span> ind &gt;= len(string):</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> string[ind] <span class="keyword">not</span> <span class="keyword">in</span> path:</span><br><span class="line">            path+=string[ind]</span><br><span class="line">            <span class="comment"># print(path)</span></span><br><span class="line">            self.helper(path, ind+<span class="number">1</span>, string, memo)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution2</span>:</span></span><br><span class="line">    <span class="comment"># sliding window</span></span><br><span class="line">    <span class="comment"># O(2n) time O(min(m, n)) space. m is 26, n is len of str</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        i = j = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        memo = set()</span><br><span class="line">        <span class="keyword">while</span> i &lt; len(s) <span class="keyword">and</span> j &lt; len(s):</span><br><span class="line">            <span class="keyword">if</span> s[j] <span class="keyword">not</span> <span class="keyword">in</span> memo:</span><br><span class="line">                memo.add(s[j])</span><br><span class="line">                res = max(res, j - i + <span class="number">1</span>)</span><br><span class="line">                j+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                memo.remove(s[i])</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># sliding window optimized using map</span></span><br><span class="line">    <span class="comment"># O(n) time O(min(m, n)) space. m is 26, n is len of str</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        i = j = <span class="number">0</span></span><br><span class="line">        dic = &#123;&#125;</span><br><span class="line">        <span class="keyword">while</span> j &lt; len(s):</span><br><span class="line">            <span class="keyword">if</span> s[j] <span class="keyword">in</span> dic:</span><br><span class="line">                i = max(dic[s[j]], i)</span><br><span class="line">            res = max(res, j - i + <span class="number">1</span>)</span><br><span class="line">            dic[s[j]] = j + <span class="number">1</span></span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Anda Luo</p>
              <div class="site-description motion-element" itemprop="description">Notes of study, work and life</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Luorinz" title="GitHub &rarr; https://github.com/Luorinz" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:luorinz@gmail.com" title="E-Mail &rarr; mailto:luorinz@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  
    <div id="sidebar-dimmer"></div>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anda Luo</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="Symbols count total">117k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="Reading time total">1:47</span>
  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  



  
    
    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>











  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  
  
  
  <script src="/lib/bookmark/bookmark.min.js?v=1.0"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  

</body>
</html>
